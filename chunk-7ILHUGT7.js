import{a as R,b as D,c as A,d as V,e as j,g as z}from"./chunk-D2XRRBRP.js";import{a as F,b as q}from"./chunk-6TE33IS6.js";import"./chunk-EBCVRUKI.js";import"./chunk-7RWCIHFI.js";import"./chunk-LT2PDRQ3.js";import{a as P,b as w,c as k,d as B}from"./chunk-T4H2DEYZ.js";import{Bc as T,Cc as L,Da as C,Dc as N,Fa as x,Ga as d,K as v,L as g,Ob as y,Qa as e,Ra as o,Sa as s,_ as n,ca as h,ga as f,la as u,pa as m,pb as E,qa as S,sb as I,wb as b,xa as i,ya as t,yb as M,za as _,zc as O}from"./chunk-7I6J3OSZ.js";function H(r,c){if(r&1&&(i(0,"p")(1,"strong"),e(2,"Name:"),t(),e(3),t()),r&2){let a=d(2);n(3),s(" ",a.character.name,"")}}function U(r,c){if(r&1&&(i(0,"p")(1,"strong"),e(2,"Age:"),t(),e(3),t()),r&2){let a=d(2);n(3),s(" ",a.character.age,"")}}function W(r,c){if(r&1&&(i(0,"p")(1,"strong"),e(2,"Occupation:"),t(),e(3),t()),r&2){let a=d(2);n(3),s(" ",a.character.occupation.name,"")}}function X(r,c){if(r&1&&(i(0,"div",10)(1,"h2"),e(2,"Character Overview"),t(),u(3,H,4,1,"p",11)(4,U,4,1,"p",11)(5,W,4,1,"p",11),i(6,"div",12)(7,"div",13)(8,"span",14),e(9,"STR"),t(),i(10,"span",15),e(11),t()(),i(12,"div",13)(13,"span",14),e(14,"CON"),t(),i(15,"span",15),e(16),t()(),i(17,"div",13)(18,"span",14),e(19,"SIZ"),t(),i(20,"span",15),e(21),t()(),i(22,"div",13)(23,"span",14),e(24,"DEX"),t(),i(25,"span",15),e(26),t()(),i(27,"div",13)(28,"span",14),e(29,"APP"),t(),i(30,"span",15),e(31),t()(),i(32,"div",13)(33,"span",14),e(34,"INT"),t(),i(35,"span",15),e(36),t()(),i(37,"div",13)(38,"span",14),e(39,"POW"),t(),i(40,"span",15),e(41),t()(),i(42,"div",13)(43,"span",14),e(44,"EDU"),t(),i(45,"span",15),e(46),t()()(),i(47,"div",16)(48,"p")(49,"strong"),e(50,"Hit Points:"),t(),e(51),t(),i(52,"p")(53,"strong"),e(54,"Damage Bonus:"),t(),e(55),t(),i(56,"p")(57,"strong"),e(58,"Movement Rate:"),t(),e(59),t()(),i(60,"div",17)(61,"p")(62,"strong"),e(63,"Character Creation Progress:"),t(),e(64),t(),i(65,"div",18),_(66,"div",19),t()()()),r&2){let a=d();n(3),m("ngIf",a.character.name),n(),m("ngIf",a.character.age),n(),m("ngIf",a.character.occupation),n(6),o(a.character.str),n(5),o(a.character.con),n(5),o(a.character.siz),n(5),o(a.character.dex),n(5),o(a.character.app),n(5),o(a.character.int),n(5),o(a.character.pow),n(5),o(a.character.edu),n(5),s(" ",a.character.hp,""),n(4),s(" ",a.character.damageBonus,""),n(4),s(" ",a.character.mov,""),n(5),s(" ",a.getCharacterProgress(),"%"),n(2),S("width",a.getCharacterProgress(),"%")}}function Z(r,c){r&1&&(i(0,"div",20)(1,"p"),e(2,"No character has been created yet. Click the button below to start creating your investigator."),t()())}function J(r,c){if(r&1){let a=C();i(0,"button",21),x("click",function(){v(a);let p=d();return g(p.continueCharacter())}),i(1,"mat-icon"),e(2,"edit"),t(),e(3," Continue Character "),t()}}function K(r,c){if(r&1){let a=C();i(0,"button",22),x("click",function(){v(a);let p=d();return g(p.saveCharacter())}),i(1,"mat-icon"),e(2,"save"),t(),e(3," Save Character "),t()}}var G=class r{constructor(c,a,l,p){this.characterService=c;this.router=a;this.route=l;this.snackBar=p}character=null;ngOnInit(){this.characterService.getCharacter().subscribe(c=>{this.character=c}),this.route.queryParams.subscribe(c=>{c.redirected==="true"&&this.snackBar.open("Please create or select a character first","Dismiss",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["mat-toolbar","mat-primary"]})})}createNewCharacter(){this.characterService.createNewCharacter(),this.router.navigate(["/stats"])}continueCharacter(){this.character&&this.router.navigate(["/stats"])}saveCharacter(){this.character&&this.characterService.saveCharacter(this.character)}getCharacterProgress(){if(!this.character)return 0;let c=0;return this.character.name&&(c+=10),this.character.str&&this.character.con&&this.character.dex&&this.character.app&&this.character.pow&&this.character.int&&this.character.edu&&this.character.siz&&(c+=30),this.character.occupation&&(c+=20),this.character.skills.some(a=>a.occupationalSkill&&a.improvementPoints>0)&&(c+=20),this.character.ideology&&this.character.significantPerson.who&&this.character.meaningfulLocation&&this.character.treasuredPossession&&(c+=20),c}static \u0275fac=function(a){return new(a||r)(h(y),h(M),h(b),h(F))};static \u0275cmp=f({type:r,selectors:[["app-character-builder"]],decls:54,vars:4,consts:[[1,"container"],[1,"section-title","text-center"],["class","character-overview",4,"ngIf"],["class","no-character",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""],[1,"character-overview"],[4,"ngIf"],[1,"stat-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"derived-stats"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"no-character"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click"]],template:function(a,l){a&1&&(i(0,"div",0)(1,"h1",1),e(2,"Call of Cthulhu Character Builder"),t(),i(3,"mat-card")(4,"mat-card-content"),u(5,X,67,17,"div",2)(6,Z,3,0,"div",3),t(),i(7,"mat-card-actions")(8,"button",4),x("click",function(){return l.createNewCharacter()}),i(9,"mat-icon"),e(10,"add"),t(),e(11," New Character "),t(),u(12,J,4,0,"button",5)(13,K,4,0,"button",6),t()(),i(14,"mat-card")(15,"mat-card-content")(16,"h2"),e(17,"Character Creation Steps"),t(),i(18,"mat-list")(19,"mat-list-item")(20,"mat-icon",7),e(21,"bar_chart"),t(),i(22,"span",8),e(23,"1. Generate Characteristics"),t(),i(24,"span",9),e(25,"Roll or assign your core statistics"),t()(),i(26,"mat-list-item")(27,"mat-icon",7),e(28,"work"),t(),i(29,"span",8),e(30,"2. Choose Occupation"),t(),i(31,"span",9),e(32,"Select your character's profession"),t()(),i(33,"mat-list-item")(34,"mat-icon",7),e(35,"psychology"),t(),i(36,"span",8),e(37,"3. Allocate Skill Points"),t(),i(38,"span",9),e(39,"Distribute points to occupational and personal skills"),t()(),i(40,"mat-list-item")(41,"mat-icon",7),e(42,"history_edu"),t(),i(43,"span",8),e(44,"4. Create Backstory"),t(),i(45,"span",9),e(46,"Develop your character's personal history"),t()(),i(47,"mat-list-item")(48,"mat-icon",7),e(49,"description"),t(),i(50,"span",8),e(51,"5. Finalize Character Sheet"),t(),i(52,"span",9),e(53,"Review and save your completed investigator"),t()()()()()()),a&2&&(n(5),m("ngIf",l.character),n(),m("ngIf",!l.character),n(6),m("ngIf",l.character),n(),m("ngIf",l.character))},dependencies:[I,E,B,P,k,w,T,O,N,L,z,V,j,A,D,R,q],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.character-overview[_ngcontent-%COMP%]{margin-bottom:30px}.stat-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin:20px 0}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#f0f0f0;padding:10px;border-radius:5px}.stat-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.stat-value[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.derived-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 0}.progress-container[_ngcontent-%COMP%]{margin:20px 0}.progress-bar[_ngcontent-%COMP%]{height:10px;background-color:#e0e0e0;border-radius:5px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#673ab7;transition:width .3s ease}.no-character[_ngcontent-%COMP%]{text-align:center;padding:40px 0}mat-card-actions[_ngcontent-%COMP%]{display:flex;gap:10px;padding:16px}"]})};export{G as CharacterBuilderComponent};
